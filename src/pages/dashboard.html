<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="shortcut icon" href="../assets/favicon.svg" type="image/SVG">
    <link rel="stylesheet"
    href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@48,400,0,0" />
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-9ndCyUaIbzAi2FUVXJi0CjmCapSmO7SnpJef0486qhLnuZ2cdeRhO02iuK6FUUVM" crossorigin="anonymous">
    <link rel="stylesheet" href="../styles/global.css">
    <link rel="stylesheet" href="../styles/dashboard.css">
    <title>Sua Área - VemSorrir</title>
</head>

<body>
    <header id="topo">
        <div class="main-header">
            <a href="../../index.html" class="logo">
                <img src="../assets/logo-completo.png" alt="">
            </a>
            <a onclick="logout()" href="#" class="logout"><span class="material-symbols-outlined">logout</span></a>
        </div>
        <nav>
            <h1>Sua Área</h1>
            <div class="border"></div>
            <ul class="nav-links">
                <li><a href="#agendar" class="nav-item">Agendar Consulta</a></li>
                <li><a href="#horarios-agendados" class="nav-item">Meus Horários</a></li>
                <li><a href="#contato" class="nav-item">Contato</a></li>
                <li><a href="#blog" class="nav-item">Blog</a></li>
            </ul>
        </nav>
    </header>

    <main>
        <section class="dados-form" id="dados-form">
            <figure class="user-photo">
                <img id="img-profile" src="../assets/perfil.png" alt="">
            </figure>
            <form action="#" class="form-att-dados">
                <div>
                    <h3>Nome Completo</h3>
                    <p id="nome-usuario" class="att-nome"></p>
                </div>
                <div>
                    <h3>E-mail</h3>
                    <p id="email-usuario" class="att-email"></p>
                </div>
                <div>
                    <h3>Data de nascimento</h3>
                    <p id="data-nasc-usuario" class="att-data"></p>
                </div>

                <button class="modal-toggle-btn"  data-bs-toggle="modal" data-bs-target="#alterarDadosModal">Alterar dados</button>
            </form>
            
            <p class="alteracao-sucesso text-white position-fixed p-3 rounded text-center" id="alteracao-sucesso">
                Dados alterados com sucesso!
            </p>
            <div class="modal fade" id="alterarDadosModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
                <div class="modal-dialog modal-dialog-centered">
                    <div class="modal-content alterar-dados-modal">
                        <div class="modal-header">
                            <h1 class="modal-title fs-5 mt-3" id="exampleModalLabel">Preencha os campos</h1>
                            <button id="closeModal" type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                        </div>
                        <div class="modal-body">
                            <form action="#" id="formUpdate" class="d-flex flex-column gap-3">
                                <input type="text" name="updateName" id="updateName" 
                                placeholder="Seu Nome" minlength="3" required>
                                <input type="email" name="updateEmail" id="updateEmail" 
                                placeholder="Seu E-Mail" disabled required>
                                <input oninput="verificarDataNasc()" type="date" placeholder="Data de nascimento" 
                                id="dataNasc-update-input" required>
                                <input type="password" name="updateSenha" id="updateSenha" 
                                placeholder="Sua Senha" minlength="8" required>                                

                                <div class="modal-footer d-flex align-items-center justify-content-center">
                                    <button onclick="alterarDados()" type="submit" class="btn btn-primary modal-btn">Confirmar</button>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>
            </div>
        </section>
        
        <section class="agendar" id="agendar">

            <h2>Agendar Consulta</h2>
            <div class="border border-agendar"></div>
            <p>Agende sua consulta de forma rápida e prática!</p>
            
            <p class="erro-agendamento text-white position-fixed p-3 rounded text-center" id="erro-agendamento">
            Erro no agendamento :( Tente novamente.
            </p>
            <p class="agendamento-sucesso text-white position-fixed p-3 rounded text-center" id="agendamento-sucesso">
            Agendamento feito com sucesso!
            </p>


            <form class="agendar-form needs-validation" id="agendar-form">

                <div>
                    <label for="agendar-servico">Selecione o Serviço:</label>
                    <select name="agendar-servico" id="agendar-servico" required>
                        <option value="" disabled selected>Selecione...</option>
                        <option value="aparelho">Aparelho Ortodôntico</option>
                        <option value="clareamento">Clareamento Dental</option>
                        <option value="implante">Implante Dentário</option>
                    </select>
                </div>

                <div>
                    <label for="agendar-data">Selecione a data:</label>
                    <input type="date" name="agendar-data" id="agendar-data" required>
                </div>

                <div>
                    <label for="agendar-hora">Selecione a hora:</label>
                    <select name="agendar-hora" id="agendar-hora" required>
                        <option value="" disabled selected>Hora</option>
                        <option class="horario" value="1">08:30</option>
                        <option class="horario" value="2">09:30</option>
                        <option class="horario" value="3">10:30</option>
                        <option class="horario" value="4">11:30</option>
                        <option class="horario" value="5">12:30</option>
                        <option class="horario" value="6">13:30</option>
                    </select>
                </div>
                <div>
                    <label for="agendar-medico">Selecione o profissional:</label>
                    <input type="text" name="agendar-medico" id="agendar-medico" placeholder="Profissional Escolhido"  required>
                    <button class="button-form-medico" id="agendar-medico" data-bs-toggle="modal" data-bs-target="#inputMedico" >Clique aqui para selecionar</button>
                </div>
                
                <button class="button-form-agendar" type="submit" onclick="cadastrarConsulta()">Agendar consulta!</button>

            </form>

            <div class="modal fade" id="inputMedico" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
                <div class="modal-dialog modal-dialog-centered">
                  <div class="modal-content lista-medicos">
                    <div class="modal-header">
                      <h1 class="modal-title fs-5" id="exampleModalLabel">Profissionas Disponíveis:</h1>
                      <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                    </div>
                    <div class="modal-body medicos-form">
                        <form id="medicos-container" class="d-flex flex-column align-items-left">
                        </form>
                    </div>
                    <div class="modal-footer">
                      <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Fechar</button>
                      <button type="button" class="btn btn-success" data-bs-dismiss="modal" onclick="escolherMedico()">Selecionar</button>
                    </div>
                  </div>
                </div>
              </div>
        </section>

        <section class="horarios-agendados" id="horarios-agendados">
            <h2>Meus Horários</h2>
            <div class="border border-horarios"></div>
            <div class="horarios-wrapper" id="consultas">
                
            </div>
        </section>

        <section class="contato d-flex flex-column align-items-center" id="contato">
            <h2 class="text-center fs-4 fw-semibold">Algum problema ou sugestão de melhoria?</h2>
            <p class="text-center">Não hesite em entrar em contato</p>
            <div class="border"></div>
            <a href="./contato.html" class="btn btn-success text-center w-50">Entre em contato</a>
        </section>

        <section class="blog" id="blog">
            <h2>Blog</h2>
            <div class="border border-blog"></div>
            <div class="videos-container">
                <div class="video-card">
                    <iframe width="50%" height="auto" src="https://www.youtube.com/embed/eGDa_DSKVy8" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe>
                    <p class="video-title">Venha conhecer mais sobre saúde bucal!</p>
                </div>
                <div class="video-card">
                    <iframe width="50%" height="auto" src="https://www.youtube.com/embed/RmR2UGGpsKo" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe>
                    <p class="video-title">Confere aqui as dicas do nosso especialista!</p>
                </div>
            </div>
            </div>
        </section>

    </main>
    <footer class="footer">
        <a href="#topo">
            Voltar ao topo<i class="ph ph-arrow-circle-up"></i>
        </a>
    </footer>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js" integrity="sha384-geWF76RCwLtnZ8qwWowPQNguL3RmwHVBC9FhGdlKrxdiJJigb/j/68SIy3Te4Bkz" crossorigin="anonymous"></script>
    <script src="https://unpkg.com/@phosphor-icons/web"></script>

    <script src="../js/medicos.js"></script>
    <script src="../js/consulta.js"></script>
    <script src="../js/dashboard.js"></script>
</body>

</html>